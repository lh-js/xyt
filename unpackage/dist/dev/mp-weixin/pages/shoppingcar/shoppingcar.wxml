<view class="shopping-car"><view style="height:80rpx;"></view><view class="cart-header"><view data-event-opts="{{[['tap',[['switchIsDetele']]]]}}" class="manager" bindtap="__e"><block wx:if="{{!isDelete}}"><text>管理</text></block><block wx:if="{{isDelete}}"><text>完成</text></block></view></view><block wx:for="{{shoppingCarDataList}}" wx:for-item="item" wx:for-index="index" wx:key="_id"><block wx:if="{{!isShoppingcarEmpty}}"><uni-card style="border-radius:20rpx;" vue-id="{{'48e24ab4-1-'+index}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="cart-item"><view class="cart-item-user" style="display:flex;"><view class="cart-itemleft" style="margin-right:35rpx;"><block wx:if="{{item.ischecked==item.shopingcar_info.length}}"><image src="../../static/checkbox.png" mode="widthFix" data-event-opts="{{[['tap',[['checkIdleUser',[item.ischecked==item.shopingcar_info.length,'$0'],[[['shoppingCarDataList','_id',item._id,'_id']]]]]]]}}" bindtap="__e"></image></block><block wx:if="{{!(item.ischecked==item.shopingcar_info.length)}}"><image src="../../static/checkbox1.png" mode="widthFix" data-event-opts="{{[['tap',[['checkIdleUser',[item.ischecked==item.shopingcar_info.length,'$0'],[[['shoppingCarDataList','_id',item._id,'_id']]]]]]]}}" bindtap="__e"></image></block></view><uni-icons vue-id="{{('48e24ab4-2-'+index)+','+('48e24ab4-1-'+index)}}" type="shop-filled" size="30" color="#0bc99d" bind:__l="__l"></uni-icons>{{''+item.shopingcar_info[0].idleUserName+''}}<uni-icons vue-id="{{('48e24ab4-3-'+index)+','+('48e24ab4-1-'+index)}}" type="right" size="20" bind:__l="__l"></uni-icons></view><block wx:for="{{item.shopingcar_info}}" wx:for-item="item1" wx:for-index="index1" wx:key="_id"><view style="display:flex;justify-content:space-between;margin:15rpx 0;"><view class="cart-itemleft"><block wx:if="{{item1.isChecked==1}}"><image src="../../static/checkbox.png" mode="widthFix" data-event-opts="{{[['tap',[['checkItem',['$0','$1'],[[['shoppingCarDataList','_id',item._id],['shopingcar_info','_id',item1._id,'isChecked']],[['shoppingCarDataList','_id',item._id],['shopingcar_info','_id',item1._id,'_id']]]]]]]}}" bindtap="__e"></image></block><block wx:if="{{!item1.isChecked==1}}"><image src="../../static/checkbox1.png" mode="widthFix" data-event-opts="{{[['tap',[['checkItem',['$0','$1'],[[['shoppingCarDataList','_id',item._id],['shopingcar_info','_id',item1._id,'isChecked']],[['shoppingCarDataList','_id',item._id],['shopingcar_info','_id',item1._id,'_id']]]]]]]}}" bindtap="__e"></image></block></view><view class="cart-itemright"><view class="cart-image"><image src="{{item1.idleCover}}" mode="aspectFill" data-event-opts="{{[['tap',[['toIdleDetail',['$0'],[[['shoppingCarDataList','_id',item._id],['shopingcar_info','_id',item1._id,'idleId']]]]]]]}}" bindtap="__e"></image><view class="price">{{'¥'+item1.idlePrice+''}}</view></view><view class="cart-itemtxt"><view class="name">{{''+item1.idleName+''}}</view><view class="desciption">{{''+item1.idleDescribe+''}}</view><view class="tag"><uni-tag vue-id="{{('48e24ab4-4-'+index+'-'+index1)+','+('48e24ab4-1-'+index)}}" text="{{item1.quality}}" type="error" bind:__l="__l"></uni-tag></view><view class="item-num"><uni-number-box vue-id="{{('48e24ab4-5-'+index+'-'+index1)+','+('48e24ab4-1-'+index)}}" min="{{1}}" max="{{item1.stockCount}}" value="{{item1.amount}}" data-event-opts="{{[['^change',[['changeAmount',['$event','$0'],[[['shoppingCarDataList','_id',item._id],['shopingcar_info','_id',item1._id,'_id']]]]]],['^input',[['__set_model',['$0','amount','$event',[]],[[['shoppingCarDataList','_id',item._id],['shopingcar_info','_id',item1._id]]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></uni-number-box></view></view></view></view></block></view></uni-card></block></block><block wx:if="{{isShoppingcarEmpty}}"><view style="width:100%;display:flex;justify-content:center;"><image src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-8a0439cf-af57-474f-b688-798babb30901/24cb561d-a7b9-4fa5-84da-4f14dadcaabe.png" mode="aspectFill"></image></view></block><view class="cart-footer"><view class="all-check"><block wx:if="{{allCount==0?false:allCount==checkedCount}}"><image src="../../static/checkbox.png" mode="widthFix" data-event-opts="{{[['tap',[['allCheck',[allCount==0?false:allCount==checkedCount]]]]]}}" bindtap="__e"></image></block><block wx:if="{{!(allCount==0?false:allCount==checkedCount)}}"><image src="../../static/checkbox1.png" mode="widthFix" data-event-opts="{{[['tap',[['allCheck',[allCount==0?false:allCount==checkedCount]]]]]}}" bindtap="__e"></image></block><view class="all-checktxt">全选</view></view><view class="cart-pay"><block wx:if="{{!isDelete}}"><view class="all-money"><block wx:if="{{totalSum!=0}}"><text style="color:#999999;font-size:14px;margin-right:5rpx;">{{"已选"+totalSum+"件"}}</text></block><text>合计:</text><text style="color:red;font-size:12px;">￥</text><text style="color:red;font-size:15px;">{{totalPrice}}</text></view></block><block wx:if="{{!isDelete}}"><view data-event-opts="{{[['tap',[['toPay']]]]}}" class="pay-button" bindtap="__e">结算</view></block><block wx:if="{{isDelete}}"><view data-event-opts="{{[['tap',[['removeShoppingcarChecked']]]]}}" class="pay-button" style="background:#fe0849 !important;" bindtap="__e">删除</view></block></view></view><view style="height:100rpx;"></view></view>